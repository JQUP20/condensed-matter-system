<template>
  <div class="chapter-content">
    <div class="content-header">
      <h1>17.3.1 æ— åºå¹³å‡</h1>
      <p class="subtitle">éšæœºç³»ç»Ÿçš„ç»Ÿè®¡å¤„ç†æ–¹æ³•</p>
    </div>

    <div class="content-body">
      <!-- æ ¸å¿ƒæ¦‚å¿µ -->
      <section class="concept-section">
        <h2>ğŸ¯ æ— åºå¹³å‡çš„åŸºæœ¬æ¦‚å¿µ</h2>
        <div class="concept-card">
          <h3>ä¸ºä»€ä¹ˆéœ€è¦æ— åºå¹³å‡ï¼Ÿ</h3>
          <p>åœ¨SYKæ¨¡å‹ä¸­ï¼Œéšæœºè€¦åˆå¸¸æ•°ä½¿å¾—æ¯ä¸ªæ ·æœ¬éƒ½ä¸åŒï¼Œéœ€è¦ç»Ÿè®¡å¹³å‡ï¼š</p>
          <ul>
            <li><strong>æ ·æœ¬ä¾èµ–æ€§</strong>ï¼šæ¯ä¸ªå®ç°çš„å“ˆå¯†é¡¿é‡éƒ½ä¸åŒ</li>
            <li><strong>ç‰©ç†å¯è§‚æµ‹é‡</strong>ï¼šå®éªŒæµ‹é‡çš„æ˜¯ç³»ç»¼å¹³å‡å€¼</li>
            <li><strong>è‡ªå¹³å‡æ€§è´¨</strong>ï¼šçƒ­åŠ›å­¦æé™ä¸‹æ¶¨è½è¢«å‹åˆ¶</li>
            <li><strong>æ™®é€‚è¡Œä¸º</strong>ï¼šå¹³å‡åæ˜¾ç°æ™®é€‚çš„ç‰©ç†è§„å¾‹</li>
          </ul>
        </div>
      </section>

      <!-- æ•°å­¦æ¡†æ¶ -->
      <section class="mathematical-section">
        <h2>ğŸ“Š æ•°å­¦æ¡†æ¶</h2>
        
        <div class="formula-card">
          <h3>æ— åºå¹³å‡çš„å®šä¹‰</h3>
          <div class="formula">
            $$\overline{O} = \int \prod_{i&lt;j&lt;k&lt;l} dJ_{ijkl} \, P(J_{ijkl}) \, O[J]$$
          </div>
          <p>å…¶ä¸­$P(J_{ijkl})$æ˜¯è€¦åˆå¸¸æ•°çš„æ¦‚ç‡åˆ†å¸ƒï¼Œ$O[J]$æ˜¯ä¾èµ–äºéšæœºå˜é‡çš„ç‰©ç†é‡ã€‚</p>
        </div>

        <div class="formula-card">
          <h3>é«˜æ–¯åˆ†å¸ƒ</h3>
          <div class="formula">
            $$P(J_{ijkl}) = \sqrt{\frac{N^3}{2\pi \cdot 3! J^2}} \exp\left(-\frac{N^3 J_{ijkl}^2}{2 \cdot 3! J^2}\right)$$
          </div>
          <p>è¿™ç¡®ä¿äº†ï¼š$\overline{J_{ijkl}} = 0$ï¼Œ$\overline{J_{ijkl}^2} = \frac{3! J^2}{N^3}$</p>
        </div>

        <div class="formula-card">
          <h3>Wickå®šç†</h3>
          <p>å¯¹äºé«˜æ–¯éšæœºå˜é‡ï¼Œé«˜é˜¶çŸ©å¯ä»¥åˆ†è§£ä¸ºäºŒé˜¶çŸ©çš„ä¹˜ç§¯ï¼š</p>
          <div class="formula">
            $$\overline{J_{i_1j_1k_1l_1} \cdots J_{i_nj_nk_nl_n}} = \sum_{\text{pairings}} \prod_{\text{pairs}} \overline{J_{i_aj_ak_al_a} J_{i_bj_bk_bl_b}}$$
          </div>
        </div>
      </section>

      <!-- è®¡ç®—æŠ€å·§ -->
      <section class="technique-section">
        <h2>âš™ï¸ è®¡ç®—æŠ€å·§</h2>
        
        <div class="technique-card">
          <h3>å‰¯æœ¬æŠ€å·§ (Replica Trick)</h3>
          <div class="replica-content">
            <h4>åŸºæœ¬æ€æƒ³</h4>
            <p>åˆ©ç”¨æ’ç­‰å¼ï¼š</p>
            <div class="formula">
              $$\overline{\ln Z} = \lim_{n \to 0} \frac{\overline{Z^n} - 1}{n}$$
            </div>
            
            <h4>å‰¯æœ¬é…åˆ†å‡½æ•°</h4>
            <div class="formula">
              $$\overline{Z^n} = \int \prod_{\alpha=1}^n \mathcal{D}\chi^\alpha \, \overline{e^{-\sum_\alpha S[\chi^\alpha]}}$$
            </div>
            
            <h4>ä¼˜åŠ¿</h4>
            <ul>
              <li>å°†å¯¹æ•°çš„å¹³å‡è½¬åŒ–ä¸ºå¹‚æ¬¡çš„å¹³å‡</li>
              <li>ä¾¿äºå¤„ç†é«˜æ–¯ç§¯åˆ†</li>
              <li>å¯ä»¥ç³»ç»Ÿåœ°è®¡ç®—ä¿®æ­£é¡¹</li>
            </ul>
          </div>
        </div>

        <div class="technique-card">
          <h3>Schwinger-Dysonæ–¹ç¨‹æ–¹æ³•</h3>
          <div class="sd-content">
            <h4>åŸºæœ¬åŸç†</h4>
            <p>åˆ©ç”¨è·¯å¾„ç§¯åˆ†çš„å˜åˆ†æ€§è´¨ï¼š</p>
            <div class="formula">
              $$\int \mathcal{D}\chi \, \frac{\delta}{\delta \chi_i(\tau)} \left[ F[\chi] e^{-S[\chi]} \right] = 0$$
            </div>
            
            <h4>æ ¼æ—å‡½æ•°æ–¹ç¨‹</h4>
            <div class="formula">
              $$\overline{\langle T \chi_i(\tau_1) \chi_j(\tau_2) \rangle} = \delta_{ij} G(\tau_1 - \tau_2)$$
            </div>
            
            <h4>è‡ªæ´½æ¡ä»¶</h4>
            <div class="formula">
              $$G(\tau) = \int d\tau' G_0(\tau - \tau') \Sigma(\tau') G(\tau')$$
            </div>
          </div>
        </div>
      </section>

      <!-- è‡ªå¹³å‡ç°è±¡ -->
      <section class="self-averaging-section">
        <h2>ğŸ”¬ è‡ªå¹³å‡ç°è±¡</h2>
        
        <div class="self-averaging-card">
          <h3>è‡ªå¹³å‡çš„å®šä¹‰</h3>
          <div class="physics-content">
            <p>å¯¹äºå¹¿å»¶é‡$O$ï¼Œå¦‚æœæ»¡è¶³ï¼š</p>
            <div class="formula">
              $$\lim_{N \to \infty} \frac{\sqrt{\overline{(O - \overline{O})^2}}}{|\overline{O}|} = 0$$
            </div>
            <p>åˆ™ç§°$O$å…·æœ‰è‡ªå¹³å‡æ€§è´¨ã€‚</p>
            
            <h4>ç‰©ç†æ„ä¹‰</h4>
            <ul>
              <li>å•ä¸ªæ ·æœ¬çš„æµ‹é‡å€¼ç­‰äºç³»ç»¼å¹³å‡</li>
              <li>ç›¸å¯¹æ¶¨è½éšç³»ç»Ÿå°ºå¯¸å‡å°</li>
              <li>å®è§‚é‡å…·æœ‰ç¡®å®šçš„å€¼</li>
            </ul>
          </div>
        </div>

        <div class="self-averaging-card">
          <h3>è‡ªå¹³å‡çš„æ¡ä»¶</h3>
          <div class="condition-content">
            <h4>1. ç³»ç»Ÿå°ºå¯¸</h4>
            <p>é€šå¸¸éœ€è¦$N \gg 1$ï¼Œæ¶¨è½è¢«$1/\sqrt{N}$å‹åˆ¶ã€‚</p>
            
            <h4>2. ç›¸å…³é•¿åº¦</h4>
            <p>å½“ç›¸å…³é•¿åº¦æœ‰é™æ—¶ï¼Œä¸åŒåŒºåŸŸçš„è´¡çŒ®ç›¸äº’ç‹¬ç«‹ã€‚</p>
            
            <h4>3. éå†æ€§</h4>
            <p>ç³»ç»Ÿèƒ½å¤Ÿéå†æ‰€æœ‰å¯èƒ½çš„é…ç½®ã€‚</p>
          </div>
        </div>

        <div class="self-averaging-card">
          <h3>SYKæ¨¡å‹ä¸­çš„è‡ªå¹³å‡</h3>
          <p>åœ¨SYKæ¨¡å‹ä¸­ï¼Œç”±äºå…¨è¿æ¥æ€§è´¨ï¼š</p>
          <ul>
            <li><strong>é…åˆ†å‡½æ•°</strong>ï¼š$\overline{\ln Z}$å…·æœ‰è‡ªå¹³å‡æ€§</li>
            <li><strong>æ ¼æ—å‡½æ•°</strong>ï¼šå•ç²’å­æ ¼æ—å‡½æ•°è‡ªå¹³å‡</li>
            <li><strong>çƒ­åŠ›å­¦é‡</strong>ï¼šè‡ªç”±èƒ½ã€ç†µç­‰å®è§‚é‡è‡ªå¹³å‡</li>
          </ul>
        </div>
      </section>

      <!-- æ¶¨è½æ•ˆåº” -->
      <section class="fluctuation-section">
        <h2>ğŸ“ˆ æ¶¨è½æ•ˆåº”</h2>
        
        <div class="fluctuation-card">
          <h3>æ ·æœ¬é—´æ¶¨è½</h3>
          <div class="sample-content">
            <h4>æ¶¨è½çš„æ¥æº</h4>
            <ul>
              <li>éšæœºè€¦åˆå¸¸æ•°çš„ä¸åŒå®ç°</li>
              <li>æœ‰é™å°ºå¯¸æ•ˆåº”</li>
              <li>é‡å­æ¶¨è½ä¸çƒ­æ¶¨è½çš„ç«äº‰</li>
            </ul>
            
            <h4>æ¶¨è½çš„æ ‡åº¦</h4>
            <div class="formula">
              $$\text{Var}(O) = \overline{O^2} - (\overline{O})^2 \sim \frac{1}{N}$$
            </div>
          </div>
        </div>

        <div class="fluctuation-card">
          <h3>å…³è”å‡½æ•°çš„æ¶¨è½</h3>
          <p>é«˜é˜¶å…³è”å‡½æ•°çš„æ¶¨è½æ›´ä¸ºå¤æ‚ï¼š</p>
          <div class="formula">
            $$\overline{\langle \chi_i(\tau_1) \chi_j(\tau_2) \chi_k(\tau_3) \chi_l(\tau_4) \rangle} \neq \overline{\langle \chi_i(\tau_1) \chi_j(\tau_2) \rangle} \overline{\langle \chi_k(\tau_3) \chi_l(\tau_4) \rangle}$$
          </div>
        </div>

        <div class="fluctuation-card">
          <h3>éè‡ªå¹³å‡é‡</h3>
          <p>æŸäº›ç‰©ç†é‡å¯èƒ½ä¸å…·æœ‰è‡ªå¹³å‡æ€§ï¼š</p>
          <ul>
            <li><strong>èƒ½çº§é—´è·</strong>ï¼šä¸ªåˆ«èƒ½çº§çš„æ€§è´¨</li>
            <li><strong>å±€åŸŸæ€å¯†åº¦</strong>ï¼šç©ºé—´å±€åŸŸçš„é‡</li>
            <li><strong>è¾“è¿ç³»æ•°</strong>ï¼šåœ¨æŸäº›æ¡ä»¶ä¸‹</li>
          </ul>
        </div>
      </section>

      <!-- è®¡ç®—å®ä¾‹ -->
      <section class="example-section">
        <h2>ğŸ’¡ è®¡ç®—å®ä¾‹</h2>
        
        <div class="example-card">
          <h3>é…åˆ†å‡½æ•°çš„æ— åºå¹³å‡</h3>
          <div class="calculation-steps">
            <h4>æ­¥éª¤1ï¼šå†™å‡ºé…åˆ†å‡½æ•°</h4>
            <div class="formula">
              $$Z = \text{Tr} e^{-\beta H} = \text{Tr} \exp\left(-\beta \sum_{ijkl} J_{ijkl} \chi_i \chi_j \chi_k \chi_l\right)$$
            </div>
            
            <h4>æ­¥éª¤2ï¼šè¿›è¡Œæ— åºå¹³å‡</h4>
            <div class="formula">
              $$\overline{Z^n} = \int \prod_{ijkl} dJ_{ijkl} P(J_{ijkl}) \prod_{\alpha=1}^n \text{Tr}_\alpha e^{-\beta H_\alpha}$$
            </div>
            
            <h4>æ­¥éª¤3ï¼šåˆ©ç”¨Wickå®šç†</h4>
            <p>å°†é«˜é˜¶çŸ©åˆ†è§£ä¸ºäºŒé˜¶çŸ©çš„ä¹˜ç§¯ï¼Œå¾—åˆ°æœ‰æ•ˆä½œç”¨é‡ã€‚</p>
            
            <h4>æ­¥éª¤4ï¼šéç‚¹è¿‘ä¼¼</h4>
            <p>åœ¨å¤§Næé™ä¸‹ï¼Œæ‰¾åˆ°ä¸»å¯¼çš„éç‚¹é…ç½®ã€‚</p>
          </div>
        </div>

        <div class="example-card">
          <h3>æ ¼æ—å‡½æ•°çš„è®¡ç®—</h3>
          <div class="green-calculation">
            <h4>å®šä¹‰</h4>
            <div class="formula">
              $$G(\tau) = -\frac{1}{N} \sum_i \overline{\langle T \chi_i(\tau) \chi_i(0) \rangle}$$
            </div>
            
            <h4>è‡ªæ´½æ–¹ç¨‹</h4>
            <div class="formula">
              $$G(\tau) = G_0(\tau) + \int d\tau_1 d\tau_2 G_0(\tau - \tau_1) \Sigma(\tau_1 - \tau_2) G(\tau_2)$$
            </div>
            
            <h4>è‡ªèƒ½å…³ç³»</h4>
            <div class="formula">
              $$\Sigma(\tau) = J^2 G(\tau)^3$$
            </div>
          </div>
        </div>
      </section>

      <!-- æ•°å€¼æ–¹æ³• -->
      <section class="numerical-section">
        <h2>ğŸ’» æ•°å€¼æ–¹æ³•</h2>
        
        <div class="numerical-card">
          <h3>è’™ç‰¹å¡ç½—æ–¹æ³•</h3>
          <div class="monte-carlo-content">
            <h4>åŸºæœ¬æ€æƒ³</h4>
            <p>é€šè¿‡éšæœºé‡‡æ ·ä¼°è®¡æ— åºå¹³å‡ï¼š</p>
            <div class="formula">
              $$\overline{O} \approx \frac{1}{M} \sum_{s=1}^M O[J^{(s)}]$$
            </div>
            
            <h4>ä¼˜åŠ¿ä¸å±€é™</h4>
            <ul>
              <li><strong>ä¼˜åŠ¿</strong>ï¼šé€‚ç”¨äºä»»æ„å¤æ‚çš„ç³»ç»Ÿ</li>
              <li><strong>å±€é™</strong>ï¼šè®¡ç®—é‡å¤§ï¼Œæ”¶æ•›æ…¢</li>
            </ul>
          </div>
        </div>

        <div class="numerical-card">
          <h3>è§£ææ–¹æ³•çš„æ•°å€¼å®ç°</h3>
          <p>å¯¹äºSYKæ¨¡å‹ï¼Œå¯ä»¥ç›´æ¥æ±‚è§£è‡ªæ´½æ–¹ç¨‹ï¼š</p>
          <ul>
            <li>é¿å…äº†æ ·æœ¬å¹³å‡çš„ç»Ÿè®¡è¯¯å·®</li>
            <li>è®¡ç®—æ•ˆç‡é«˜</li>
            <li>å¯ä»¥è¾¾åˆ°å¾ˆé«˜çš„ç²¾åº¦</li>
          </ul>
        </div>
      </section>

      <!-- ç‰©ç†åº”ç”¨ -->
      <section class="application-section">
        <h2>ğŸŒŸ ç‰©ç†åº”ç”¨</h2>
        
        <div class="application-card">
          <h3>æ— åºç³»ç»Ÿçš„æ™®éæ€§</h3>
          <div class="universality-content">
            <h4>Andersonå±€åŸŸåŒ–</h4>
            <p>æ— åºå¹³å‡æ­ç¤ºäº†å±€åŸŸåŒ–-éå±€åŸŸåŒ–è½¬å˜ã€‚</p>
            
            <h4>è‡ªæ—‹ç»ç’ƒ</h4>
            <p>æ— åºå¹³å‡å¯¼è‡´å¤æ‚çš„èƒ½é‡æ™¯è§‚å’Œå¤šé‡æ€ã€‚</p>
            
            <h4>é‡å­ç‚¹</h4>
            <p>éšæœºçŸ©é˜µç†è®ºæè¿°é‡å­ç‚¹çš„ç»Ÿè®¡æ€§è´¨ã€‚</p>
          </div>
        </div>

        <div class="application-card">
          <h3>å®éªŒç›¸å…³æ€§</h3>
          <ul>
            <li><strong>æ ·å“åˆ¶å¤‡</strong>ï¼šå®é™…æ ·å“æ€»æ˜¯åŒ…å«æ— åº</li>
            <li><strong>æµ‹é‡å¹³å‡</strong>ï¼šå®éªŒæµ‹é‡æœ¬è´¨ä¸Šæ˜¯æŸç§å¹³å‡</li>
            <li><strong>é‡ç°æ€§</strong>ï¼šç†è®ºé¢„è¨€çš„é‡ç°æ€§ä¾èµ–äºè‡ªå¹³å‡</li>
          </ul>
        </div>
      </section>

      <!-- æ€»ç»“ -->
      <section class="summary-section">
        <h2>ğŸ“ æ€»ç»“</h2>
        <div class="summary-card">
          <p>æ— åºå¹³å‡æ˜¯å¤„ç†éšæœºç³»ç»Ÿçš„æ ¸å¿ƒæ–¹æ³•ï¼š</p>
          <ul>
            <li><strong>æ•°å­¦ä¸Š</strong>ï¼šæä¾›äº†å¤„ç†éšæœºå“ˆå¯†é¡¿é‡çš„ç³»ç»Ÿæ–¹æ³•</li>
            <li><strong>ç‰©ç†ä¸Š</strong>ï¼šæ­ç¤ºäº†è‡ªå¹³å‡ç°è±¡å’Œæ™®é€‚è¡Œä¸º</li>
            <li><strong>è®¡ç®—ä¸Š</strong>ï¼šä½¿å¤æ‚çš„éšæœºé—®é¢˜å˜å¾—å¯è§£</li>
            <li><strong>å®éªŒä¸Š</strong>ï¼šè¿æ¥ç†è®ºé¢„è¨€ä¸å®é™…æµ‹é‡</li>
          </ul>
          <p>åœ¨SYKæ¨¡å‹ä¸­ï¼Œæ— åºå¹³å‡ä¸ä»…æ˜¯æŠ€æœ¯å·¥å…·ï¼Œæ›´æ˜¯ç†è§£é‡å­æ··æ²Œå’Œå¼ºå…³è”ç‰©ç†çš„å…³é”®æ¦‚å¿µã€‚é€šè¿‡æ— åºå¹³å‡ï¼Œæˆ‘ä»¬èƒ½å¤Ÿä»éšæœºçš„å¾®è§‚ç»†èŠ‚ä¸­æå–å‡ºæ™®é€‚çš„å®è§‚è§„å¾‹ã€‚</p>
        </div>
      </section>
    </div>
  </div>
</template>

<script>
export default {
  name: 'Chapter17_3_1',
  mounted() {
    this.$nextTick(() => {
      if (window.renderMathInElement) {
        window.renderMathInElement(this.$el, {
          delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false}
          ],
          throwOnError: false
        });
      }
    });
  },
  updated() {
    this.$nextTick(() => {
      if (window.renderMathInElement) {
        window.renderMathInElement(this.$el, {
          delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false}
          ],
          throwOnError: false
        });
      }
    });
  }
}
</script>

<style scoped>
.chapter-content {
  max-width: 1000px;
  margin: 0 auto;
  padding: 20px;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  line-height: 1.6;
  color: #333;
}

.content-header {
  text-align: center;
  margin-bottom: 30px;
  padding: 20px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-radius: 10px;
}

.content-header h1 {
  margin: 0 0 10px 0;
  font-size: 2.5em;
  font-weight: bold;
}

.subtitle {
  font-size: 1.2em;
  opacity: 0.9;
  margin: 0;
}

.content-body {
  display: flex;
  flex-direction: column;
  gap: 25px;
}

section {
  background: white;
  padding: 25px;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  border-left: 4px solid #667eea;
}

section h2 {
  color: #667eea;
  margin-bottom: 20px;
  font-size: 1.5em;
  display: flex;
  align-items: center;
  gap: 10px;
}

.concept-card, .formula-card, .technique-card, .self-averaging-card, 
.fluctuation-card, .example-card, .numerical-card, .application-card, .summary-card {
  background: #f8f9fa;
  padding: 20px;
  border-radius: 8px;
  margin-bottom: 15px;
  border-left: 3px solid #28a745;
}

.concept-card h3, .formula-card h3, .technique-card h3, 
.self-averaging-card h3, .fluctuation-card h3, .example-card h3, 
.numerical-card h3, .application-card h3, .summary-card h3 {
  color: #495057;
  margin-bottom: 15px;
  font-size: 1.2em;
}

.formula {
  background: white;
  padding: 15px;
  border-radius: 5px;
  margin: 10px 0;
  text-align: center;
  border: 1px solid #dee2e6;
  font-size: 1.1em;
}

.replica-content h4, .sd-content h4, .physics-content h4, 
.condition-content h4, .sample-content h4, .calculation-steps h4, 
.green-calculation h4, .monte-carlo-content h4, .universality-content h4 {
  color: #6c757d;
  margin-top: 15px;
  margin-bottom: 8px;
}

.calculation-steps {
  background: #e7f3ff;
  padding: 15px;
  border-radius: 5px;
  border-left: 3px solid #007bff;
}

.green-calculation {
  background: #f0f8f0;
  padding: 15px;
  border-radius: 5px;
  border-left: 3px solid #28a745;
}

ul {
  padding-left: 20px;
}

li {
  margin-bottom: 8px;
}

strong {
  color: #495057;
  font-weight: 600;
}

.technique-card {
  border-left-color: #6f42c1;
}

.self-averaging-card {
  border-left-color: #fd7e14;
}

.fluctuation-card {
  border-left-color: #e83e8c;
}

.numerical-card {
  border-left-color: #20c997;
}

.application-card {
  border-left-color: #ffc107;
}

.summary-card {
  border-left-color: #17a2b8;
  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
}

@media (max-width: 768px) {
  .chapter-content {
    padding: 15px;
  }
  
  .content-header h1 {
    font-size: 2em;
  }
  
  section {
    padding: 20px;
  }
}
</style>